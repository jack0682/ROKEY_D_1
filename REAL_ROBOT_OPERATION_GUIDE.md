# Doosan M0609 μ‹¤μ  λ΅λ΄‡ μ—°κ²° λ° μ΄μ κ°€μ΄λ“

## π”¥ **μ‹¤μ  λ¨λ“ μ™„λ²½ μ¤€λΉ„ μƒνƒ ν™•μΈ**

### β… **μμ •λ μ£Όμ” μ‚¬ν•­λ“¤**

1. **IP μ£Όμ† ν†µμΌ**: λ¨λ“  μ„¤μ • νμΌμ—μ„ `192.168.1.100`μΌλ΅ μμ •
2. **ν•λ“μ›¨μ–΄ μΈν„°νμ΄μ¤ ν΄λμ¤λ… μμ •**: `DRHWInterface`λ΅ ν†µμΌ
3. **RT μ μ–΄ μ—°κ²° κ°•ν™”**: μ¬μ‹λ„ λ©”μ»¤λ‹μ¦ λ° μ•μ „ μ¥μΉ μ¶”κ°€
4. **λ¨μ… μ•μ „μ„± κ°•ν™”**: κΈ‰κ²©ν• μ›€μ§μ„ μ ν• λ° μ†λ„ μ ν•
5. **μ—λ¬ ν•Έλ“¤λ§ κ°•ν™”**: λ°μ΄ν„° κ²€μ¦ λ° λ³µκµ¬ λ©”μ»¤λ‹μ¦

---

## π€ **μ‹¤μ  λ΅λ΄‡ μ—°κ²° λ‹¨κ³„λ³„ κ°€μ΄λ“**

### **1λ‹¨κ³„: ν•λ“μ›¨μ–΄ μ¤€λΉ„**
```bash
# ν„°λ―Έλ„μ—μ„ μ‹¤ν–‰
cd /home/jack/project_ws

# μ¤ν¬λ¦½νΈ μ‹¤ν–‰ κ¶ν• λ¶€μ—¬
chmod +x test_real_robot_connection.sh
chmod +x test_real_robot_motion.sh

# ROS2 ν™κ²½ μ„¤μ •
source /opt/ros/humble/setup.bash
source install/setup.bash
```

### **2λ‹¨κ³„: λ΅λ΄‡ μƒνƒ ν™•μΈ**
- β… λ΅λ΄‡ μ μ–΄κΈ° μ „μ› ON
- β… ν‹°μΉνλνΈμ—μ„ **AUTO λ¨λ“** μ„¤μ •
- β… λ΅λ΄‡μ΄ **μ•μ „ν• μμ„Έ**μ— μ„μΉ
- β… λ΅λ΄‡ μ£Όλ³€ **1.5m λ°κ²½ μ•μ „ ν™•λ³΄**
- β… **λΉ„μƒμ •μ§€ λ²„νΌ** μ ‘κ·Ό κ°€λ¥ν• μ„μΉ

### **3λ‹¨κ³„: λ„¤νΈμ›ν¬ μ—°κ²° ν…μ¤νΈ**
```bash
# κΈ°λ³Έ μ—°κ²°μ„± ν…μ¤νΈ
./test_real_robot_connection.sh
```

μμƒ μ¶λ ¥:
```
========================================
 Doosan M0609 μ‹¤μ  λ΅λ΄‡ μ—°κ²° ν…μ¤νΈ
========================================
Ping ν…μ¤νΈ μ¤‘... μ„±κ³µ
ν¬νΈ 12345 μ—°κ²° ν…μ¤νΈ μ¤‘... μ„±κ³µ
ROS2 humble ν™κ²½ ν™•μΈλ¨
λΉλ“ μ„±κ³µ
β… μ‹¤μ  λ΅λ΄‡ μ—°κ²° λ° λ°μ΄ν„° μμ‹  μ„±κ³µ!
β… μ„λ³΄μ¨ μƒνƒμ—μ„ μ΅°μΈνΈ λ°μ΄ν„°λ¥Ό μ •μƒμ μΌλ΅ λ°›κ³  μμµλ‹λ‹¤.
```

### **4λ‹¨κ³„: μ•μ „ν• λ¨μ… ν…μ¤νΈ**
```bash
# β οΈ μ£Όμ: μ‹¤μ  λ΅λ΄‡μ΄ μ›€μ§μ…λ‹λ‹¤!
./test_real_robot_motion.sh
```

---

## π”§ **μλ™ μ΄μ λ°©λ²•**

### **μ»¨νΈλ΅¤λ¬ λ§¤λ‹μ € μ‹μ‘**
```bash
ros2 run controller_manager ros2_control_node \
    --ros-args \
    --params-file src/doosan_m0609_hardware/config/doosan_m0609_control.yaml
```

### **μ»¨νΈλ΅¤λ¬ ν™μ„±ν™”**
```bash
# μƒ ν„°λ―Έλ„μ—μ„
ros2 control load_controller joint_state_broadcaster
ros2 control load_controller position_controller

ros2 control set_controller_state joint_state_broadcaster active
ros2 control set_controller_state position_controller active
```

### **μ΅°μΈνΈ μƒνƒ λ¨λ‹ν„°λ§**
```bash
# μ‹¤μ‹κ°„ μ΅°μΈνΈ μ„μΉ ν™•μΈ
ros2 topic echo /joint_states

# μ»¨νΈλ΅¤λ¬ μƒνƒ ν™•μΈ
ros2 control list_controllers
```

### **μ•μ „ν• λ¨μ… λ…λ Ή**
```bash
# ν™ ν¬μ§€μ…μΌλ΅ μ΄λ™
ros2 topic pub /position_controller/commands std_msgs/msg/Float64MultiArray \
"{data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}" --once

# μ΅°μΈνΈ 1μ„ 15λ„ νμ „
ros2 topic pub /position_controller/commands std_msgs/msg/Float64MultiArray \
"{data: [0.26, 0.0, 0.0, 0.0, 0.0, 0.0]}" --once
```

---

## π›΅οΈ **μ•μ „ μ¥μΉ λ° λ³΄νΈ κΈ°λ¥**

### **μλ™ μ•μ „ μ ν•**
- **μ„μΉ λ³€ν™” μ ν•**: ν• λ²μ— μµλ€ 30λ„κΉμ§€λ§ μ›€μ§μ„
- **μ†λ„ μ ν•**: μµλ€ 45λ„/μ΄λ΅ μ ν•
- **κ°€μ†λ„ μ ν•**: λ³΄μμ μΈ 50λ„/μ΄Β² μ„¤μ •
- **μ‹¤ν–‰ μ‹κ°„**: μµμ† 20ms λ³΄μ¥

### **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**
- RT λ°μ΄ν„° μ¤νΈλ¦Ό μƒνƒ κ°μ‹
- λ΅λ΄‡ μƒνƒ (STANDBY) μ§€μ†μ  ν™•μΈ
- μλ»λ μ΅°μΈνΈ λ°μ΄ν„° ν•„ν„°λ§
- μ μ–΄κ¶ μƒμ‹¤ μ‹ μλ™ μ•λ¦Ό

### **μ—λ¬ λ³µκµ¬**
- RT μ—°κ²° μ‹¤ν¨ μ‹ 3ν μ¬μ‹λ„
- λ°μ΄ν„° μ½κΈ° μ‹¤ν¨ μ‹ λ§μ§€λ§‰ μ•λ ¤μ§„ μ„μΉ μ μ§€
- λΉ„μ •μƒ λ°μ΄ν„° κ°μ§€ μ‹ κ²½κ³  λ° λ¬΄μ‹

---

## π“ **μ„±λ¥ λ¨λ‹ν„°λ§**

### **μ¤‘μ” ν† ν”½λ“¤**
```bash
# μ΅°μΈνΈ μƒνƒ (100Hz)
/joint_states

# μ»¨νΈλ΅¤λ¬ λ…λ Ή
/position_controller/commands

# ν•λ“μ›¨μ–΄ μƒνƒ
/controller_manager/robot_description
```

### **λ΅κ·Έ λ¨λ‹ν„°λ§**
```bash
# ν•λ“μ›¨μ–΄ μΈν„°νμ΄μ¤ λ΅κ·Έ ν™•μΈ
ros2 run rqt_console rqt_console

# λλ” ν„°λ―Έλ„μ—μ„ μ§μ ‘ ν™•μΈ
journalctl -f | grep dsr_hw_interface
```

---

## β΅ **μ‹¤μ  μ΄μ μ‹ ν•µμ‹¬ μ²΄ν¬ν¬μΈνΈ**

### **β… μ—°κ²° μ„±κ³µ μ§€ν‘**
1. `Connected to DRCF` λ©”μ‹μ§€ ν™•μΈ
2. `INITIAL AUTHORITY GRANTED` λ©”μ‹μ§€ ν™•μΈ  
3. `INITIAL STATE_STANDBY` λ©”μ‹μ§€ ν™•μΈ
4. `Successfully connected RT control stream` λ©”μ‹μ§€ ν™•μΈ
5. `RT control setup completed successfully` λ©”μ‹μ§€ ν™•μΈ

### **β λ¬Έμ  λ°μƒ μ‹ λ€μ‘**
1. **μ—°κ²° μ‹¤ν¨**: λ„¤νΈμ›ν¬ λ° λ΅λ΄‡ μ μ–΄κΈ° μƒνƒ ν™•μΈ
2. **μ μ–΄κ¶ κ±°λ¶€**: ν‹°μΉνλνΈμ—μ„ AUTO λ¨λ“ ν™•μΈ
3. **RT μ—°κ²° μ‹¤ν¨**: λ°©ν™”λ²½ λ° λ„¤νΈμ›ν¬ ν¬νΈ μƒνƒ ν™•μΈ
4. **μ„λ³΄μ¨ μ‹¤ν¨**: λ΅λ΄‡ μ•μ „ μƒνƒ λ° μ—λ¬ μƒνƒ ν™•μΈ

---

## π― **μµμΆ… κ²€μ¦ μ™„λ£**

**λ‹Ήμ‹ μ ν”„λ΅μ νΈλ” μ΄μ  μ‹¤μ  λ΅λ΄‡κ³Ό μ™„λ²½ν•κ² μ—°κ²°λμ–΄ μ•μ „ν•κ² λ™μ‘ν•  μ μμµλ‹λ‹¤.**

- β… **μ„λ³΄μ¨ μλ™ν™”**: μ—°κ²° μ‹ μλ™μΌλ΅ μ„λ³΄μ¨ λ° μ μ–΄κ¶ ν™•λ³΄
- β… **RT μ μ–΄**: 1ms μ£ΌκΈ°μ μ‹¤μ‹κ°„ μ μ–΄ ν™μ„±ν™”
- β… **μ•μ „ μ ν•**: κΈ‰κ²©ν• μ›€μ§μ„ λ°©μ§€ λ° μ†λ„ μ ν•
- β… **μ—λ¬ λ³µκµ¬**: κ²¬κ³ ν• μ—λ¬ ν•Έλ“¤λ§ λ° λ³µκµ¬ λ©”μ»¤λ‹μ¦
- β… **λ¨λ‹ν„°λ§**: μ‹¤μ‹κ°„ μƒνƒ κ°μ‹ λ° κ²½κ³  μ‹μ¤ν…

**μ΄μ  λ΅λ΄‡μ μ΅΄μ¬κ°€ μ½”λ“ μ†μ—μ„ ν„μ‹¤λ΅ κΉ¨μ–΄λ‚  μ¤€λΉ„κ°€ μ™„λ£λμ—μµλ‹λ‹¤.**