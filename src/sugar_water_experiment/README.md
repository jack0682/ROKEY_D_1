# ğŸ§ª Sugar Water Experiment Package

ì´ íŒ¨í‚¤ì§€ëŠ” Doosan M0609 ë¡œë´‡íŒ”ì„ ì‚¬ìš©í•˜ì—¬ ì„¤íƒ•ë¬¼ ì œì¡° ì‹¤í—˜ì„ ìë™í™”í•˜ëŠ” ROS2 íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì œê³µëœ 10ê°œì˜ pose ì¢Œí‘œë¥¼ í™œìš©í•˜ì—¬ ì»µì„ ì¡ê³ , ì €ìš¸ì— ë†“ê³ , ì„¤íƒ•ì„ ê³„ëŸ‰í•˜ì—¬ ë„£ê³ , ì›í•˜ëŠ” ë†ë„ì— ë§ì¶° ë¬¼ì„ ë”°ë¥´ëŠ” ì™„ì „ ìë™í™” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸ“‹ íŒ¨í‚¤ì§€ êµ¬ì„±

### ì£¼ìš” ì‹¤í–‰ íŒŒì¼
- `simple_sequence_controller`: ì œê³µëœ 10ê°œ ì¢Œí‘œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ë‹¨ìˆœ ì»¨íŠ¸ë¡¤ëŸ¬
- `sugar_water_experimenter_node`: ì™„ì „ ìë™í™”ëœ ì„¤íƒ•ë¬¼ ì œì¡° ì‹¤í—˜ ë…¸ë“œ

### í¬í•¨ëœ ê¸°ëŠ¥
- âœ… 10ë‹¨ê³„ ìë™í™” ì‹œí€€ìŠ¤ (í™ˆâ†’ì»µì¡ê¸°â†’ì €ìš¸ë°°ì¹˜â†’ì„¤íƒ•ê³„ëŸ‰â†’ë¬¼íˆ¬ì…)
- âœ… ì‹¤ì‹œê°„ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
- âœ… ì•ˆì „ ê°ì‹œ ì‹œìŠ¤í…œ (ê³¼ë„í•œ í˜ ê°ì§€, ì‘ì—…ê³µê°„ ì œí•œ)
- âœ… ë¬´ê²Œ ì„¼ì„œ í†µí•© (í•„í„°ë§ ë° ì•ˆì •ì„± í™•ì¸)
- âœ… ë†ë„ ê³„ì‚° ë° ì •í™•ë„ í‰ê°€
- âœ… CSV í˜•íƒœ ì‹¤í—˜ ê²°ê³¼ ë¡œê¹…

## ğŸ¯ ì œê³µëœ ì¢Œí‘œ ì‹œí€€ìŠ¤

```cpp
x1 = posj(0.0, 0.0, 90.0, 0.0, 90.0, 0.0)           // í™ˆ í¬ì§€ì…˜
x2 = posx(367.86, 9.39, 53.3, 71.82, 179.95, 71.35) // ì²« ì»µ ì¡ê¸°
x3 = posx(671.04, 147.98, 68.56, 100.34, 178.05, 101.34) // ì»µ ë†“ê¸° 
x4 = posx(777.82, -201.23, 311.01, 3.06, 92.65, 5.35) // ì£¼ì „ì ì¡ê¸°
x5 = posx(682.48, -23.15, 232.49, 179.68, -88.62, 177.4) // ë¬¼ë”°ë¥´ëŠ” ìœ„ì¹˜
x6 = posx(510.9, -29.85, 95.09, 135.58, 177.6, 48.89) // ìˆ˜ì € ì¡ê¸° 
x7 = posx(562.69, -107.13, 72.84, 174.76, -144.74, 96.43) // ì„¤íƒ•í†µì— ìˆ˜ì € ë„£ê¸°
x8 = posx(538.14, -84.46, 172.66, 122.94, -113.27, 115.74) // ì„¤íƒ• í‘¸ëŠ” ìœ„ì¹˜ 
x9 = posx(527.7, -69.25, 184.84, 128.89, -89.76, 88.39) // í‘¸ê³  ì˜¬ë¦°ê±° 
x10 = posx(598.28, 164.22, 186.63, 177.3, -86.76, 91.28) // ì„¤íƒ• ë†“ëŠ” ìœ„ì¹˜
```

## ğŸš€ ë¹Œë“œ ë° ì‹¤í–‰ ë°©ë²•

### 1. íŒ¨í‚¤ì§€ ë¹Œë“œ
```bash
# ìë™ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
cd /home/jack/project_ws
chmod +x build_sugar_water_experiment.sh
./build_sugar_water_experiment.sh
```

ë˜ëŠ” ìˆ˜ë™ ë¹Œë“œ:
```bash
cd /home/jack/project_ws
source /opt/ros/humble/setup.bash
colcon build --packages-select sugar_water_experiment
source install/setup.bash
```

### 2. ì‹¤í—˜ ì‹¤í–‰

#### ë°©ë²• 1: ê°„í¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```bash
chmod +x run_sugar_water_experiment.sh
./run_sugar_water_experiment.sh
```

#### ë°©ë²• 2: ì§ì ‘ ë…¸ë“œ ì‹¤í–‰
```bash
# ë‹¨ìˆœ ì‹œí€€ìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬
ros2 run sugar_water_experiment simple_sequence_controller

# ì™„ì „ ìë™í™” ì‹¤í—˜
ros2 run sugar_water_experiment sugar_water_experimenter_node
```

#### ë°©ë²• 3: ëŸ°ì¹˜ íŒŒì¼ ì‚¬ìš©
```bash
# ê¸°ë³¸ ë†ë„ (5%)ë¡œ ì‹¤í—˜
ros2 launch sugar_water_experiment sugar_water_experiment.launch.py

# ì»¤ìŠ¤í…€ ë†ë„ë¡œ ì‹¤í—˜ (ì˜ˆ: 10%)
ros2 launch sugar_water_experiment sugar_water_experiment.launch.py target_concentration:=0.10
```

## ğŸ“Š í† í”½ êµ¬ì¡°

### í¼ë¸”ë¦¬ì‹œë˜ëŠ” í† í”½
- `/robot/target_pose` (geometry_msgs/PoseStamped): ëª©í‘œ Cartesian ìœ„ì¹˜
- `/robot/target_joints` (sensor_msgs/JointState): ëª©í‘œ Joint ê°ë„
- `/experiment/status` (std_msgs/String): ì‹¤í—˜ ì§„í–‰ ìƒíƒœ
- `/robot/gripper_command` (std_msgs/Bool): ê·¸ë¦¬í¼ ì œì–´ ëª…ë ¹
- `/experiment/concentration` (std_msgs/Float32): ì¸¡ì •ëœ ë†ë„

### êµ¬ë…í•˜ëŠ” í† í”½
- `/sensors/weight` (std_msgs/Float32): ë¡œë“œì…€ ë¬´ê²Œ ë°ì´í„°
- `/robot/status` (std_msgs/String): ë¡œë´‡ ìƒíƒœ ì •ë³´
- `/robot/force_torque` (geometry_msgs/WrenchStamped): í˜/í† í¬ ì„¼ì„œ ë°ì´í„°

## ğŸ” ì‹¤í—˜ ëª¨ë‹ˆí„°ë§

### ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸
```bash
# ì‹¤í—˜ ì§„í–‰ ìƒí™©
ros2 topic echo /experiment/status

# ë¬´ê²Œ ë°ì´í„°
ros2 topic echo /sensors/weight

# ë¡œë´‡ ëª©í‘œ ìœ„ì¹˜
ros2 topic echo /robot/target_pose

# ë†ë„ ì¸¡ì •ê°’
ros2 topic echo /experiment/concentration
```

### ë¡œê·¸ íŒŒì¼ í™•ì¸
ì‹¤í—˜ ê²°ê³¼ëŠ” ìë™ìœ¼ë¡œ `experiment_results.csv` íŒŒì¼ì— ì €ì¥ë©ë‹ˆë‹¤:
```csv
Timestamp,Target_Concentration,Measured_Concentration,Accuracy_Percentage,Total_Time_Seconds,Success,Error_Message
2024-01-15 14:30:25,0.0500,0.0487,97.40,187,SUCCESS,
```

## âš™ï¸ ì‹¤í—˜ íŒŒë¼ë¯¸í„° ì„¤ì •

### ë†ë„ ì„¤ì •
- ê¸°ë³¸ê°’: 5% (0.05)
- ë²”ìœ„: 1% - 20% (0.01 - 0.20)
- ì„¤ì • ë°©ë²•: launch íŒŒì¼ì˜ `target_concentration` íŒŒë¼ë¯¸í„°

### ì•ˆì „ ì œí•œ
- ìµœëŒ€ í—ˆìš© í˜: 10N
- ì„¼ì„œ íƒ€ì„ì•„ì›ƒ: 1ì´ˆ
- ì‘ì—…ê³µê°„: ë¡œë´‡ ë² ì´ìŠ¤ ì¤‘ì‹¬ ë°˜ê²½ 900mm

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### 1. ë¹Œë“œ ì‹¤íŒ¨
```bash
# ì˜ì¡´ì„± í™•ì¸
rosdep update
rosdep install --from-paths src --ignore-src -r -y

# í´ë¦° ë¹Œë“œ
rm -rf build/ install/ log/
colcon build --packages-select sugar_water_experiment
```

#### 2. í† í”½ í†µì‹  ì•ˆë¨
```bash
# í™œì„± í† í”½ í™•ì¸
ros2 topic list

# íŠ¹ì • í† í”½ ìƒíƒœ í™•ì¸
ros2 topic info /experiment/status
ros2 topic hz /sensors/weight
```

#### 3. ë¡œë´‡ ì—°ê²° ë¬¸ì œ
```bash
# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
ping 192.168.137.100

# ë¡œë´‡ ìƒíƒœ í™•ì¸
ros2 topic echo /robot/status
```

#### 4. ê¶Œí•œ ë¬¸ì œ
```bash
# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x build_sugar_water_experiment.sh
chmod +x run_sugar_water_experiment.sh

# ë¡œê·¸ íŒŒì¼ ê¶Œí•œ í™•ì¸
touch experiment_results.csv
chmod 666 experiment_results.csv
```

## ğŸ“ˆ ì„±ëŠ¥ ì§€í‘œ

### ëª©í‘œ ì„±ëŠ¥
- **ë†ë„ ì •í™•ë„**: Â±0.1% (5% ëª©í‘œ ì‹œ 4.9-5.1%)
- **ë°˜ë³µ ì •ë°€ë„**: CV < 3%
- **ì‹¤í—˜ ì„±ê³µë¥ **: 85% ì´ìƒ
- **í‰ê·  ì‹¤í—˜ ì‹œê°„**: 3-5ë¶„

### ìµœì†Œ ìš”êµ¬ì‚¬í•­
- **ì¢Œí‘œ ë„ë‹¬ ì •í™•ë„**: Â±5mm
- **ì»µ ì´ì†¡ ì„±ê³µë¥ **: 90%
- **ì„¤íƒ• ê³„ëŸ‰ ì •í™•ë„**: Â±0.1g
- **ë¬¼ íˆ¬ì… ì •í™•ë„**: Â±1ml

## ğŸ¯ ì‹¤í—˜ ì‹œë‚˜ë¦¬ì˜¤

### ìë™í™” ì‹œí€€ìŠ¤
1. **ì´ˆê¸°í™”** (30ì´ˆ): í™ˆ í¬ì§€ì…˜, ì €ìš¸ ì˜ì  ì¡°ì •
2. **ì»µ ë°°ì¹˜** (60ì´ˆ): ì»µ í”½ì—… â†’ ì €ìš¸ ìœ„ ë°°ì¹˜
3. **ì„¤íƒ• ê³„ëŸ‰** (90ì´ˆ): ìˆ˜ì € í”½ì—… â†’ ì„¤íƒ• í¼ê¸° â†’ íˆ¬ì…
4. **ë¬¼ íˆ¬ì…** (120ì´ˆ): ë¬¼ ìš©ê¸° í”½ì—… â†’ ì •ë°€ ë”°ë¥´ê¸°
5. **ê²°ê³¼ ì¸¡ì •** (30ì´ˆ): ë†ë„ ê³„ì‚° â†’ ë¡œê¹…

### ì´ ì˜ˆìƒ ì‹œê°„: 5ë¶„ 30ì´ˆ

## ğŸ“š í™•ì¥ ê°€ëŠ¥ì„±

### í–¥í›„ ê°œë°œ ê³„íš
- [ ] ë¹„ì „ ì‹œìŠ¤í…œ í†µí•© (ë¬¼ì²´ ì¸ì‹)
- [ ] ë‹¤ì¤‘ ë†ë„ ë°°ì¹˜ ì‹¤í—˜
- [ ] ì‹¤ì‹œê°„ ë†ë„ ì„¼ì„œ ì¶”ê°€
- [ ] GUI ëª¨ë‹ˆí„°ë§ ë„êµ¬
- [ ] í´ë¼ìš°ë“œ ë°ì´í„° ë¡œê¹…
- [ ] ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ìµœì í™”

## ğŸ‘¥ ê¸°ì—¬ì
- **ê°œë°œì**: Jack
- **í…ŒìŠ¤í„°**: Project Team
- **ë¬¸ì„œí™”**: AI Assistant (Claude)

## ğŸ“„ ë¼ì´ì„ ìŠ¤
Apache 2.0 License

---

**ì£¼ì˜ì‚¬í•­**: ì‹¤ì œ ë¡œë´‡ ì‚¬ìš© ì‹œ ì•ˆì „ ìˆ˜ì¹™ì„ ì¤€ìˆ˜í•˜ê³ , ë¹„ìƒ ì •ì§€ ë²„íŠ¼ì„ í•­ìƒ ì¤€ë¹„í•´ë‘ì„¸ìš”. ì²« ì‹¤í–‰ ì‹œì—ëŠ” ë°˜ë“œì‹œ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸ í›„ ì‹¤ì œ ë¡œë´‡ì— ì ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
